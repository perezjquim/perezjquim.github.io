<core:FragmentDefinition
	xmlns="sap.m"
	xmlns:core="sap.ui.core">
	<ResponsivePopover
		beforeOpen="onBeforeOpenPopover"
		modal="true"
		placement="Bottom"
		showHeader="false"
		contentWidth="30vw"
		contentHeight="70vh">
		<content>
			<Page 					
				busy="{misc>/is_iframe_busy}"
				busyIndicatorDelay="0"
				height="100%"
				width="100%"
				showHeader="false"
				showFooter="false"
				showSubHeader="false"
				enableScrolling="false">
				<core:HTML
					width="100%"
					height="100%"
					content="&lt;iframe id='z_spotify_embed_popover_iframe' src='{misc>/embed_url}' width='100%' height='100%' frameBorder='0' allowfullscreen='' allow='autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture'/&gt;"
					afterRendering="onAfterRenderingIframe"/>
			</Page>
		</content>
		<beginButton>
			<Button 
				text="{i18n>open_playlist}"
				icon="sap-icon://action"
				type="Accept"
				press="onOpenPlaylist" />			
		</beginButton>
		<endButton>
			<Button 
				text="{i18n_sap>CLOSE}"
				icon="sap-icon://decline" 
				press="onClosePopover" />
		</endButton>
	</ResponsivePopover>
</core:FragmentDefinition>