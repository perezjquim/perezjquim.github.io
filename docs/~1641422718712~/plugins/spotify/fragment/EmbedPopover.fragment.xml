<core:FragmentDefinition
	xmlns="sap.m"
	xmlns:core="sap.ui.core"
	xmlns:l="sap.ui.layout">
	<ResponsivePopover
		beforeOpen="onBeforeOpenPopover"
		modal="true"
		placement="Bottom"
		showHeader="false"
		contentWidth="30vw"
		contentHeight="70vh"
		class="z_spotify_embed_popover">
		<content>
			<Page 					
				busy="{misc>/is_iframe_busy}"
				showHeader="false"
				showFooter="false"
				showSubHeader="false"
				enableScrolling="false">
				<core:HTML 
					content="&lt;iframe loading='lazy' class='z_spotify_embed_popover_iframe' id='z_spotify_embed_popover_iframe' src='{misc>/embed_url}' frameBorder='0' allowfullscreen='' allow='autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture'/&gt;"
					afterRendering="onAfterRenderingIframe" />
			</Page>
		</content>
		<beginButton>
			<Button 
				text="{i18n>open_playlist}"
				icon="sap-icon://action"
				type="Accept"
				press="onOpenPlaylist" />			
		</beginButton>
		<endButton>
			<Button 
				text="{i18n_sap>CLOSE}"
				icon="sap-icon://decline" 
				press="onClosePopover" />
		</endButton>
	</ResponsivePopover>
</core:FragmentDefinition>