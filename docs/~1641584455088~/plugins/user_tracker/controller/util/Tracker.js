sap.ui.define([],function(){return{EMAIL_SUBJECT_VISIT:"PEREZJQUIM PAGE > VISIT!",EMAIL_SECURE_TOKEN:"71bd7658-fa25-4c7d-8b5a-168c761a8f37",EMAIL_TO:"jquim1@hotmail.com",EMAIL_FROM:"jquim1@hotmail.com",run:function(){this._includeScripts()},_includeScripts:function(){if(!window.Email){const t="https://smtpjs.com/v3/smtp.js";const n=document.createElement("script");n.src=t;n.async=false;n.addEventListener("load",this._onScriptsReady.bind(this));document.head.appendChild(n)}else{(async function(){await this._onScriptsReady.bind(this)}).bind(this)()}},_onScriptsReady:async function(){const t=await this._getEmailData();var n="<table><tr><th>Name</th><th>Value</th></tr>";t.forEach(function(t){n+="<tr>"+"<td>"+t["name"]+"</td>"+"<td>"+t["value"]+"</td>"+"</tr>"});n+="<style>td,th { border: 1px solid gray; text-align: left; }</style>";this.notify(this.EMAIL_SUBJECT_VISIT,n)},_getEmailData:async function(){const t=await this._getLocation();const n=await this._getMap(t);const a=[{name:"Referrer",value:document.referrer},{name:"User-Agent",value:navigator.userAgent||JSON.stringify(navigator.userAgentData,null,2)},{name:"Language",value:navigator.language},{name:"Location",value:"<pre>"+JSON.stringify(t,null,2)+"</pre>"},{name:"Map",value:n}];return a},_getLocation:async function(){const t="https://ipapi.co/json";const n=await fetch(t);const a=await n.json();return a},_getMap:async function(t){const n=t.postal;const a=t.city;const e="https://www.meteoblue.com/en/server/search/query3?query="+n+"+"+a;const s=await fetch(e);const i=await s.json();const o=i.results;const c=o[0];const r=c.lat;const u=c.lon;const l="https://www.google.com/maps/place/"+n+"+"+a;const h="<a href='"+l+"'>Open in Google Maps</a>";return h},notify:function(t,n){const a={SecureToken:this.EMAIL_SECURE_TOKEN,To:this.EMAIL_TO,From:this.EMAIL_FROM,Subject:t,Body:n};Email.send(a)}}});